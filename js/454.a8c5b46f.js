"use strict";(self["webpackChunkvue_crm"]=self["webpackChunkvue_crm"]||[]).push([[454],{7454:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-title"},[e("h3",[t._v("Счет")]),e("button",{staticClass:"btn waves-effect waves-light btn-small",on:{click:t.refresh}},[e("i",{staticClass:"material-icons"},[t._v("refresh")])])]),t.loading?e("Loader"):e("div",{staticClass:"row"},[e("HomeBill",{attrs:{rates:t.currency.rates}}),e("HomeCurrency",{attrs:{rates:t.currency.rates,date:t.currency.date}})],1)],1)},a=[],c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col s12 m6 l4"},[e("div",{staticClass:"card light-blue bill-card"},[e("div",{staticClass:"card-content white-text"},[e("span",{staticClass:"card-title"},[t._v("Счет в валюте")]),t._l(t.currencies,(function(s){return e("p",{key:s,staticClass:"currency-line"},[e("span",[t._v(t._s(t._f("currency")(t.getCurrency(s),s)))])])}))],2)])])},n=[],i={props:["rates"],data:()=>({currencies:["RUB","USD","TRY"]}),computed:{base(){return this.$store.getters.info.bill/this.rates["RUB"]}},methods:{getCurrency(t){return Math.floor(this.base*this.rates[t])}}},l=i,u=s(1001),o=(0,u.Z)(l,c,n,!1,null,null,null),d=o.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col s12 m6 l8"},[e("div",{staticClass:"card orange darken-3 bill-card"},[e("div",{staticClass:"card-content white-text"},[t._m(0),e("table",[t._m(1),e("tbody",t._l(t.currencies,(function(s){return e("tr",{key:s},[e("td",[t._v(t._s(s))]),e("td",[t._v(t._s((t.rates["RUB"]/t.rates[s]).toFixed(2)))]),e("td",[t._v(t._s(t.date))])])})),0)])])])])},_=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("span",{staticClass:"card-title"},[t._v("Курс валют")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Валюта")]),e("th",[t._v("Курс")]),e("th",[t._v("Дата")])])])}],v={props:["rates","date"],data:()=>({currencies:["USD","TRY"]})},f=v,C=(0,u.Z)(f,h,_,!1,null,null,null),m=C.exports,p={name:"home",metaInfo:{title:"Home | VUE-CRM"},data:()=>({loading:!0,currency:null}),async mounted(){this.currency=await this.$store.dispatch("fetchCurrency"),this.loading=!1},methods:{async refresh(){this.loading=!0,this.currency=await this.$store.dispatch("fetchCurrency"),this.loading=!1}},components:{HomeBill:d,HomeCurrency:m}},y=p,b=(0,u.Z)(y,r,a,!1,null,"6de0b05a",null),g=b.exports}}]);
//# sourceMappingURL=454.a8c5b46f.js.map